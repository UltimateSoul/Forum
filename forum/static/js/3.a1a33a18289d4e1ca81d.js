webpackJsonp([3],{"C/Na":function(e,t){},Cdx3:function(e,t,a){var r=a("sB3e"),n=a("lktj");a("uqUo")("keys",function(){return function(e){return n(r(e))}})},DhR8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("fZjL"),n=a.n(r),s=a("+cKO"),i=a("mtWM"),o=a.n(i),l={name:"Registration",data:function(){return{username:"",password:"",confirmPassword:"",email:"",gameNickName:"",gender:"",avatar:null,genderChoices:[{text:"Male",value:"MALE"},{text:"Female",value:"FEMALE"},{text:"-----",value:"OTHER"}]}},validations:{username:{required:s.required,minLen:Object(s.minLength)(2),unique:function(e){return""===e||o.a.get("users/?username="+e).then(function(e){return console.log("Unique: ",0===n()(e.data).length),0===n()(e.data).length})}},email:{required:s.required,email:s.email,unique:function(e){return""===e||o.a.get("users/?email="+e).then(function(e){return console.log("Unique: ",0===n()(e.data).length),0===n()(e.data).length})}},password:{required:s.required,minLen:Object(s.minLength)(6)},confirmPassword:{required:s.required,sameAs:Object(s.sameAs)("password")}},methods:{register:function(){var e=this,t={username:this.username,password:this.password,email:this.email,game_nickname:this.gameNickName,gender:this.gender?this.gender:"OTHER",avatar:this.avatar};this.$store.dispatch("register",t).then(function(){e.$store.getters.isLogged&&e.$router.push({name:"home"})})},validateState:function(e){var t=this.$v[e],a=t.$dirty,r=t.$error;return a?!r:null}},computed:{emailSmallText:function(){if(this.email)return this.$v.email.unique?"Your email is unique":"Your email is not unique, please enter unique one"},usernameSmallText:function(){return this.username?this.$v.username.unique?this.$v.username.minLen?"Your username is unique":"Your username is too short":"Your username is not unique, please enter unique one":"Your site nickname."}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"registration-container"},[a("h1",[e._v("Registration")]),e._v(" "),a("div",{staticClass:"form-container"},[a("b-form",[a("b-form-group",{attrs:{label:"Username","label-for":"usernameInput"}},[a("b-form-input",{staticClass:"form-control text-center",attrs:{type:"text",id:"usernameInput","aria-describedby":"emailHelp",state:e.validateState("username"),placeholder:"Enter Username"},model:{value:e.$v.username.$model,callback:function(t){e.$set(e.$v.username,"$model",t)},expression:"$v.username.$model"}}),e._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"usernameHelp"}},[e._v(e._s(e.usernameSmallText))])],1),e._v(" "),a("b-form-group",{attrs:{label:"Password","label-for":"passwordInput"}},[a("b-form-input",{staticClass:"form-control text-center",attrs:{type:"password",id:"passwordInput",state:e.validateState("password"),placeholder:"Enter your password"},model:{value:e.$v.password.$model,callback:function(t){e.$set(e.$v.password,"$model",t)},expression:"$v.password.$model"}}),e._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"passwordHelp"}},[e._v("\n          We'll never share your password with anyone else.\n        ")])],1),e._v(" "),a("b-form-group",{attrs:{label:"Confirm Password","label-for":"confirmPasswordInput"}},[a("b-form-input",{staticClass:"form-control text-center",attrs:{type:"password",id:"confirmPasswordInput",state:e.validateState("confirmPassword"),placeholder:"Enter your confirm password"},on:{blur:function(t){return e.$v.confirmPassword.$touch()}},model:{value:e.$v.confirmPassword.$model,callback:function(t){e.$set(e.$v.confirmPassword,"$model",t)},expression:"$v.confirmPassword.$model"}}),e._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"confirmPasswordHelp"}},[e._v("\n          We'll never share your password with anyone else.\n        ")])],1),e._v(" "),a("b-form-group",{attrs:{label:"Email","label-for":"emailInput"}},[a("b-form-input",{staticClass:"form-control text-center",attrs:{type:"text",id:"emailInput","aria-describedby":"emailHelp",state:e.validateState("email"),placeholder:"awesome@gmail.com"},on:{blur:function(t){return e.$v.email.$touch()}},model:{value:e.$v.email.$model,callback:function(t){e.$set(e.$v.email,"$model",t)},expression:"$v.email.$model"}}),e._v(" "),a("small",{staticClass:"form-text text-muted",class:{"danger-email-text":!e.$v.email.unique},attrs:{id:"emailHelp"}},[e._v("\n          "+e._s(e.emailSmallText)+"\n        ")])],1),e._v(" "),a("b-form-group",{attrs:{label:"Game Nickname","label-for":"usernameInput"}},[a("b-form-input",{staticClass:"form-control text-center",attrs:{type:"text",id:"gamenicknameInput","aria-describedby":"GameNickNameHelp",placeholder:"Enter Game nickname"},model:{value:e.gameNickName,callback:function(t){e.gameNickName=t},expression:"gameNickName"}}),e._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"GameNickNameHelp"}},[e._v("Your in-game nickname.")])],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputGender"}},[e._v("Gender")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.gender,expression:"gender"}],staticClass:"form-control text-center",attrs:{id:"inputGender"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.gender=t.target.multiple?a:a[0]}}},e._l(e.genderChoices,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.text))])}),0)]),e._v(" "),e.$v.$invalid?a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button",disabled:""}},[e._v("Submit\n      ")]):a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button"},on:{click:e.register}},[e._v("Submit\n      ")])],1)],1)])},staticRenderFns:[]};var m=a("VU/8")(l,u,!1,function(e){a("C/Na")},"data-v-45209302",null);t.default=m.exports},fZjL:function(e,t,a){e.exports={default:a("jFbC"),__esModule:!0}},jFbC:function(e,t,a){a("Cdx3"),e.exports=a("FeBl").Object.keys},uqUo:function(e,t,a){var r=a("kM2E"),n=a("FeBl"),s=a("S82l");e.exports=function(e,t){var a=(n.Object||{})[e]||Object[e],i={};i[e]=t(a),r(r.S+r.F*s(function(){a(1)}),"Object",i)}}});
//# sourceMappingURL=3.a1a33a18289d4e1ca81d.js.map