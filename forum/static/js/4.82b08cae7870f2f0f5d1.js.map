{"version":3,"sources":["webpack:///src/components/pages/Topic.vue","webpack:///./src/components/pages/Topic.vue?aca8","webpack:///./src/components/pages/Topic.vue"],"names":["Topic","name","data","topicID","this","$route","params","topic","title","description","body","totalLikes","isLiked","author","avatar","gameNickName","username","pk","posts","buttonsEngine","postText","commentText","currentPage","created","getTopicData","getTopicPosts","methods","_this","axios_default","a","get","then","response","total_likes","is_liked","game_nickname","page","_this2","results","forEach","post","buttonID","id","$set","isOpen","editTopic","$router","push","section","saveComment","postID","_this3","status","savePost","_this4","likeOrUnlikePostClick","_this5","likeOrUnlikeCommentClick","commentID","_this6","likeOrUnlikeTopicClick","_this7","computed","extends_default","Object","vuex_esm","getCommentsButtonText","_this8","console","log","pages_Topic","render","_vm","_h","$createElement","_c","_self","_v","_s","staticClass","attrs","no-body","no-gutters","md","src","variant","pressed","on","click","$event","isMainUser","_e","_l","key","comment","placeholder","rows","max-rows","model","value","callback","$$v","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"sLAgIAA,GACAC,KAAA,QACAC,KAFA,WAGA,OACAC,QAAAC,KAAAC,OAAAC,OAAAH,QACAI,OACAC,MAAA,GACAC,YAAA,GACAC,KAAA,GACAC,WAAA,EACAC,SAAA,GAEAC,QACAC,OAAA,GACAC,aAAA,GACAC,SAAA,GACAC,GAAA,GAEAC,SACAC,iBACAC,SAAA,GACAC,YAAA,GACAC,YAAA,IAGAC,QAzBA,WA0BAnB,KAAAoB,eACApB,KAAAqB,cAAA,IAEAC,SACAF,aADA,WACA,IAAAG,EAAAvB,KACMwB,EAAAC,EAANC,IAAA,UAAA1B,KAAAD,QAAA,KAAA4B,KACA,SAAAC,GACAL,EAAApB,MAAAC,MAAAwB,EAAA9B,KAAAM,MACAmB,EAAApB,MAAAE,YAAAuB,EAAA9B,KAAAO,YACAkB,EAAApB,MAAAG,KAAAsB,EAAA9B,KAAAQ,KACAiB,EAAApB,MAAAI,WAAAqB,EAAA9B,KAAA+B,YACAN,EAAApB,MAAAK,QAAAoB,EAAA9B,KAAAgC,SACAP,EAAAd,OAAAC,OAAAkB,EAAA9B,KAAAW,OAAAC,OACAa,EAAAd,OAAAE,aAAAiB,EAAA9B,KAAAW,OAAAsB,cACAR,EAAAd,OAAAG,SAAAgB,EAAA9B,KAAAW,OAAAG,SACAW,EAAAd,OAAAI,GAAAe,EAAA9B,KAAAW,OAAAI,GACAU,EAAAnB,MAAAwB,EAAA9B,KAAAM,SAIAiB,cAjBA,SAiBAW,GAAA,IAAAC,EAAAjC,KACMwB,EAAAC,EAANC,IAAA,UACAxB,QACAC,MAAAH,KAAAD,QACAiC,UAEAL,KAAA,SAAAC,GACAK,EAAAnB,MAAAc,EAAA9B,KAAAoC,QACAD,EAAAnB,MAAAqB,QAAA,SAAAC,GACA,IAAAC,EAAA,UAAAD,EAAAE,GACAL,EAAAM,KAAAN,EAAAlB,cAAAsB,GACAG,QAAA,SAKAC,UAjCA,WAkCAzC,KAAA0C,QAAAC,MACA9C,KAAA,gBACAK,QACA0C,QAAA5C,KAAAC,OAAAC,OAAA0C,QACA7C,QAAAC,KAAAD,YAIA8C,YA1CA,SA0CAC,GAAA,IAAAC,EAAA/C,KACAF,GACAQ,KAAAN,KAAAiB,YACAmB,KAAAU,GAEMtB,EAAAC,EAANW,KAAA,YAAAtC,GACA6B,KAAA,SAAAC,GAEA,OAAAA,EAAAoB,QACA,SACAD,EAAA9B,YAAA,GACA8B,EAAA1B,cAAA0B,EAAA7B,iBAOA+B,SA5DA,WA4DA,IAAAC,EAAAlD,KACAF,GACAQ,KAAAN,KAAAgB,SACAb,MAAAH,KAAAD,SAEMyB,EAAAC,EAANW,KAAA,SAAAtC,GACA6B,KAAA,SAAAC,GACA,OAAAA,EAAAoB,QACA,SACAE,EAAAlC,SAAA,GACAkC,EAAA7B,cAAA6B,EAAAhC,iBAOAiC,sBA7EA,SA6EAL,EAAAtC,GAAA,IAAA4C,EAAApD,KACAQ,EACQgB,EAAAC,EAARW,KAAA,SAAAU,EAAA,YACAnB,KAAA,SAAAC,GACA,OAAAA,EAAAoB,QACA,SACAI,EAAA/B,cAAA+B,EAAAlC,gBAOQM,EAAAC,EAARW,KAAA,SAAAU,EAAA,UACAnB,KAAA,SAAAC,GACA,OAAAA,EAAAoB,QACA,SACAI,EAAA/B,cAAA+B,EAAAlC,iBAUAmC,yBAxGA,SAwGAC,EAAA9C,GAAA,IAAA+C,EAAAvD,KACAQ,GACQgB,EAAAC,EAARW,KAAA,YAAAkB,EAAA,YACA3B,KAAA,SAAAC,GACA,OAAAA,EAAAoB,QACA,SACAO,EAAAlC,cAAAkC,EAAArC,gBAOMM,EAAAC,EAANW,KAAA,YAAAkB,EAAA,UACA3B,KAAA,SAAAC,GACA,OAAAA,EAAAoB,QACA,SACAO,EAAAlC,cAAAkC,EAAArC,iBASAsC,uBAlIA,WAkIA,IAAAC,EAAAzD,KACAA,KAAAG,MAAAK,QACQgB,EAAAC,EAARW,KAAA,UAAApC,KAAAD,QAAA,YAAA4B,KAAA,SAAAC,GACA,OAAAA,EAAAoB,QACA,SACAS,EAAArC,kBAOQI,EAAAC,EAARW,KAAA,UAAApC,KAAAD,QAAA,UAAA4B,KAAA,SAAAC,GACA,OAAAA,EAAAoB,QACA,SACAS,EAAArC,oBAWAsC,SAAAC,OACAC,OAAAC,EAAA,EAAAD,EACA,aACA,iBAEAE,sBALA,WAKA,IAAAC,EAAA/D,KACA,gBAAAqC,GAGA,OAFA2B,QAAAC,IAAA,yBACAF,EAAAhD,cAAAsB,GAAAG,OACA,yBC/Te0B,GADEC,OAFjB,WAA0B,IAAAC,EAAApE,KAAaqE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,MAAAH,EAAAK,GAAAL,EAAAM,GAAAN,EAAAjE,MAAAC,UAAAgE,EAAAK,GAAA,KAAAF,EAAA,MAAAH,EAAAK,GAAA,KAAAF,EAAA,MAAAH,EAAAK,GAAAL,EAAAM,GAAAN,EAAAjE,MAAAE,gBAAA+D,EAAAK,GAAA,KAAAF,EAAA,OAAAA,EAAA,UAAiLI,YAAA,kBAAAC,OAAqCC,UAAA,MAAcN,EAAA,SAAcK,OAAOE,aAAA,MAAiBP,EAAA,SAAcK,OAAOG,GAAA,OAAUR,EAAA,cAAmBI,YAAA,YAAAC,OAA+BI,IAAAZ,EAAA3D,OAAAC,UAAyB0D,EAAAK,GAAA,KAAAF,EAAA,MAAAH,EAAAK,GAAAL,EAAAM,GAAAN,EAAA3D,OAAAG,aAAAwD,EAAAK,GAAA,KAAAF,EAAA,MAAAH,EAAAK,GAAAL,EAAAM,GAAAN,EAAA3D,OAAAE,kBAAA,GAAAyD,EAAAK,GAAA,KAAAF,EAAA,SAAwJK,OAAOG,GAAA,QAAWR,EAAA,eAAAA,EAAA,eAAAH,EAAAK,GAAA,mBAAAL,EAAAM,GAAAN,EAAAjE,MAAAG,MAAA,gCAAA8D,EAAAK,GAAA,kBAAAL,EAAAM,GAAAN,EAAAjE,MAAAI,YAAA,YAAAgE,EAAA,YAAwMK,OAAOK,QAAA,UAAAC,QAAAd,EAAAjE,MAAAK,QAAA8B,GAAA,qBAAA8B,EAAArE,SAAwFoF,IAAKC,MAAA,SAAAC,GAAyB,OAAAjB,EAAAZ,6BAAsCY,EAAAK,GAAA,gCAAAL,EAAAK,GAAA,KAAAL,EAAAkB,WAAAlB,EAAA3D,OAAAI,IAAA0D,EAAA,OAA+FI,YAAA,mBAA6BJ,EAAA,YAAiBY,IAAIC,MAAAhB,EAAA3B,aAAuB2B,EAAAK,GAAA,cAAAL,EAAAmB,KAAAnB,EAAAK,GAAA,KAAAL,EAAAoB,GAAApB,EAAA,eAAAhC,GAA8E,OAAAmC,EAAA,OAAiBkB,IAAArD,EAAAE,KAAYiC,EAAA,MAAAH,EAAAK,GAAA,KAAAF,EAAA,UAAoCI,YAAA,kBAAAC,OAAqCC,UAAA,MAAcN,EAAA,SAAcK,OAAOE,aAAA,MAAiBP,EAAA,SAAcK,OAAOG,GAAA,OAAUR,EAAA,cAAmBI,YAAA,YAAAC,OAA+BI,IAAA5C,EAAA3B,OAAAC,WAA0B,GAAA0D,EAAAK,GAAA,KAAAF,EAAA,SAA8BK,OAAOG,GAAA,QAAWR,EAAA,eAAoBK,OAAOxE,MAAAgC,EAAA3B,OAAAG,YAA8B2D,EAAA,eAAAH,EAAAK,GAAA,qBAAAL,EAAAM,GAAAtC,EAAA9B,MAAA,8BAAA8D,EAAAK,GAAA,sBAAAL,EAAAM,GAAAtC,EAAAP,aAAA,kBAAAuC,EAAAK,GAAA,KAAAF,EAAA,OAA8LI,YAAA,mBAA6BJ,EAAA,YAAiBK,OAAOK,QAAA,UAAAC,QAAA9C,EAAAN,SAAAQ,GAAA,oBAAAF,EAAAE,IAA+E6C,IAAKC,MAAA,SAAAC,GAAyB,OAAAjB,EAAAjB,sBAAAf,EAAAE,GAAAF,EAAAN,cAA2DsC,EAAAK,GAAA,4CAAAL,EAAAK,GAAA,KAAAF,EAAA,OAA2EI,YAAA,mBAA6BJ,EAAA,YAAiBK,OAAOK,QAAA,UAAA3C,GAAA,UAAAF,EAAAE,IAA6C6C,IAAKC,MAAA,SAAAC,GAAyBjB,EAAArD,cAAA,UAAAqB,EAAAE,IAAAE,QAAA4B,EAAArD,cAAA,UAAAqB,EAAAE,IAAAE,WAA6F4B,EAAAK,GAAA,eAAAL,EAAAM,GAAAN,EAAAN,sBAAA,UAAA1B,EAAAE,KAAA,oBAAA8B,EAAAK,GAAA,KAAAL,EAAArD,cAAA,UAAAqB,EAAAE,IAAA,OAAAiC,EAAA,OAAAH,EAAAoB,GAAApD,EAAA,kBAAAsD,GAAgN,OAAAnB,EAAA,OAAiBI,YAAA,kBAA4BJ,EAAA,UAAeI,YAAA,kBAAAC,OAAqCC,UAAA,MAAcN,EAAA,SAAcK,OAAOE,aAAA,MAAiBP,EAAA,SAAcK,OAAOG,GAAA,OAAUR,EAAA,cAAmBI,YAAA,YAAAC,OAA+BI,IAAAU,EAAAjF,OAAAC,WAA6B,GAAA0D,EAAAK,GAAA,KAAAF,EAAA,SAA8BK,OAAOG,GAAA,QAAWR,EAAA,eAAoBK,OAAOxE,MAAAsF,EAAAjF,OAAAG,YAAiC2D,EAAA,eAAAH,EAAAK,GAAA,yBAAAL,EAAAM,GAAAgB,EAAApF,MAAA,sCAAA8D,EAAAK,GAAA,wBAAAL,EAAAM,GAAAgB,EAAA7D,aAAA,kBAAA0C,EAAA,OAAsMI,YAAA,mBAA6BJ,EAAA,YAAiBK,OAAOM,QAAAQ,EAAA5D,SAAAmD,QAAA,UAAA3C,GAAA,uBAAAoD,EAAApD,IAAwF6C,IAAKC,MAAA,SAAAC,GAAyB,OAAAjB,EAAAf,yBAAAqC,EAAApD,GAAAoD,EAAA5D,cAAoEsC,EAAAK,GAAA,0DAAiEL,EAAAK,GAAA,KAAAF,EAAA,OAAwBI,YAAA,kBAA4BJ,EAAA,mBAAwBK,OAAOtC,GAAA,WAAAqD,YAAA,mBAAAC,KAAA,IAAAC,WAAA,KAA2EC,OAAQC,MAAA3B,EAAA,YAAA4B,SAAA,SAAAC,GAAiD7B,EAAAnD,YAAAgF,GAAoBC,WAAA,iBAA2B9B,EAAAK,GAAA,KAAAF,EAAA,YAA6BK,OAAOK,QAAA,UAAA3C,GAAA,iBAAAF,EAAAE,IAAoD6C,IAAKC,MAAA,SAAAC,GAAyB,OAAAjB,EAAAvB,YAAAT,EAAAE,QAAkC8B,EAAAK,GAAA,4CAAAL,EAAAmB,MAAA,KAAkEnB,EAAAK,GAAA,KAAAF,EAAA,OAAwBI,YAAA,kBAA4BJ,EAAA,mBAAwBK,OAAOtC,GAAA,WAAAqD,YAAA,gBAAAC,KAAA,IAAAC,WAAA,KAAwEC,OAAQC,MAAA3B,EAAA,SAAA4B,SAAA,SAAAC,GAA8C7B,EAAApD,SAAAiF,GAAiBC,WAAA,cAAwB9B,EAAAK,GAAA,KAAAF,EAAA,YAA6BK,OAAOK,QAAA,WAAoBE,IAAKC,MAAAhB,EAAAnB,YAAsBmB,EAAAK,GAAA,uCAE1lI0B,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE1G,EACAsE,GATF,EAVA,SAAAqC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/4.82b08cae7870f2f0f5d1.js","sourcesContent":["<template>\n  <div>\n    <h1>{{topic.title}}</h1>\n    <hr>\n    <h5>{{topic.description}}</h5>\n    <div>\n      <b-card no-body class=\"overflow-hidden\">\n        <b-row no-gutters>\n          <b-col md=\"2\">\n            <b-card-img :src=\"author.avatar\" class=\"rounded-1\"></b-card-img>\n            <h5>{{author.username}}</h5>\n            <h5>{{author.gameNickName}}</h5>\n          </b-col>\n          <b-col md=\"10\">\n            <b-card-body>\n              <b-card-text>\n                {{topic.body}}\n              </b-card-text>\n            </b-card-body>\n          </b-col>\n        </b-row>\n        Likes: {{topic.totalLikes}}\n        <b-button variant=\"primary\"\n                  :pressed=\"topic.isLiked\"\n                  @click=\"likeOrUnlikeTopicClick()\"\n                  :id=\"'like-topic-button-' + topicID\">\n          Like\n        </b-button>\n      </b-card>\n      <div class=\"button-control\" v-if=\"isMainUser(author.pk)\">\n        <b-button @click=\"editTopic\">Edit</b-button>\n      </div>\n      <div v-for=\"post in posts\"\n           :key=\"post.id\">\n        <hr>\n        <b-card no-body class=\"overflow-hidden\">\n          <b-row no-gutters>\n            <b-col md=\"2\">\n              <b-card-img :src=\"post.author.avatar\" class=\"rounded-1\"></b-card-img>\n            </b-col>\n            <b-col md=\"10\">\n              <b-card-body :title=\"post.author.username\">\n                <b-card-text>\n                  {{post.body}}\n                </b-card-text>\n              </b-card-body>\n            </b-col>\n            Likes: {{post.total_likes}}\n          </b-row>\n          <div class=\"button-control\">\n            <b-button variant=\"primary\"\n                      :pressed=\"post.is_liked\"\n                      @click=\"likeOrUnlikePostClick(post.id, post.is_liked)\"\n                      :id=\"'like-post-button-' + post.id\">\n              Like\n            </b-button>\n          </div>\n        </b-card>\n        <div class=\"button-control\">\n          <b-button variant=\"primary\"\n                    @click=\"buttonsEngine['button-'+post.id].isOpen = !buttonsEngine['button-'+post.id].isOpen\"\n                    :id=\"'button-' + post.id\">\n            {{ getCommentsButtonText('button-' + post.id) }}\n          </b-button>\n        </div>\n        <div v-if=\"buttonsEngine['button-'+post.id].isOpen\">\n          <div class=\"message-range\" v-for=\"comment in post.comments\">\n            <b-card no-body class=\"overflow-hidden\">\n              <b-row no-gutters>\n                <b-col md=\"2\">\n                  <b-card-img :src=\"comment.author.avatar\" class=\"rounded-1\"></b-card-img>\n                </b-col>\n                <b-col md=\"10\">\n                  <b-card-body :title=\"comment.author.username\">\n                    <b-card-text>\n                      {{comment.body}}\n                    </b-card-text>\n                  </b-card-body>\n                </b-col>\n              </b-row>\n              Likes: {{comment.total_likes}}\n              <div class=\"button-control\">\n\n                <b-button :pressed=\"comment.is_liked\"\n                          variant=\"primary\"\n                          @click=\"likeOrUnlikeCommentClick(comment.id, comment.is_liked)\"\n                          :id=\"'like-comment-button-' + comment.id\">\n                  Like\n                </b-button>\n              </div>\n            </b-card>\n          </div>\n          <div class=\"message-range\">\n            <b-form-textarea\n              id=\"textarea\"\n              v-model=\"commentText\"\n              placeholder=\"Enter comment...\"\n              rows=\"3\"\n              max-rows=\"6\"\n            ></b-form-textarea>\n            <b-button variant=\"primary\"\n                      @click=\"saveComment(post.id)\"\n                      :id=\"'button-comment' + post.id\">\n              Post\n            </b-button>\n          </div>\n        </div>\n      </div>\n      <div class=\"message-range\">\n        <b-form-textarea\n          id=\"textarea\"\n          v-model=\"postText\"\n          placeholder=\"Enter post...\"\n          rows=\"3\"\n          max-rows=\"6\"\n        ></b-form-textarea>\n        <b-button @click=\"savePost\" variant=\"primary\">\n          Post\n        </b-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from 'axios'\n  import {mapGetters} from 'vuex';\n\n  export default {\n    name: \"Topic\",\n    data() {\n      return {\n        topicID: this.$route.params.topicID,\n        topic: {\n          title: \"\",\n          description: \"\",\n          body: \"\",\n          totalLikes: 0,\n          isLiked: false\n        },\n        author: {\n          avatar: '',\n          gameNickName: '',\n          username: '',\n          pk: 0\n        },\n        posts: [],\n        buttonsEngine: {},\n        postText: '',\n        commentText: '',\n        currentPage: 1\n      }\n    },\n    created() {\n      this.getTopicData();\n      this.getTopicPosts(1)\n    },\n    methods: {\n      getTopicData() {\n        axios.get('topics/' + this.topicID + '/').then(\n          (response) => {\n            this.topic.title = response.data.title;\n            this.topic.description = response.data.description;\n            this.topic.body = response.data.body;\n            this.topic.totalLikes = response.data.total_likes;\n            this.topic.isLiked = response.data.is_liked;\n            this.author.avatar = response.data.author.avatar;\n            this.author.gameNickName = response.data.author.game_nickname;\n            this.author.username = response.data.author.username;\n            this.author.pk = response.data.author.pk;\n            this.title = response.data.title;\n          }\n        )\n      },\n      getTopicPosts(page) {\n        axios.get('posts/', {\n          params: {\n            topic: this.topicID,\n            page: page,\n          }\n        }).then((response) => {\n          this.posts = response.data.results;\n          this.posts.forEach(post => {\n            let buttonID = 'button-' + post.id;\n            this.$set(this.buttonsEngine, buttonID, {\n              isOpen: false\n            })\n          })\n        })\n      },\n      editTopic() {\n        this.$router.push({\n          name: 'topic-editing',\n          params: {\n            section: this.$route.params.section,\n            topicID: this.topicID\n          }\n        })\n      },\n      saveComment(postID) {\n        const data = {\n          body: this.commentText,\n          post: postID\n        };\n        axios.post('comments/', data)\n          .then((response) => {\n            debugger\n            switch (response.status) {\n              case 201:\n                this.commentText = '';\n                this.getTopicPosts(this.currentPage);\n                break;\n              case 400:\n                break\n            }\n          })\n      },\n      savePost() {\n        const data = {\n          body: this.postText,\n          topic: this.topicID\n        };\n        axios.post('posts/', data)\n          .then((response) => {\n            switch (response.status) {\n              case 201:\n                this.postText = '';\n                this.getTopicPosts(this.currentPage);\n                break;\n              case 400:\n                break\n            }\n          })\n      },\n      likeOrUnlikePostClick(postID, isLiked) {\n        if (isLiked) {\n          axios.post(`posts/${postID}/unlike/`)\n            .then((response) => {\n              switch (response.status) {\n                case 200:\n                  this.getTopicPosts(this.currentPage);\n                  break;\n                case 400:\n                  break  // errors during serializing\n              }\n            })\n        } else {\n          axios.post(`posts/${postID}/like/`)\n            .then((response) => {\n              switch (response.status) {\n                case 201:\n                  this.getTopicPosts(this.currentPage);\n                  break;\n                case 220:\n                  break;  // already liked this post by current user\n                case 400:\n                  break  // errors during serializing\n              }\n            })\n        }\n      },\n      likeOrUnlikeCommentClick(commentID, isLiked) {\n        if (isLiked) {\n          axios.post(`comments/${commentID}/unlike/`)\n            .then((response) => {\n              switch (response.status) {\n                case 200:\n                  this.getTopicPosts(this.currentPage);\n                  break;\n                case 400:\n                  break  // errors during serializing\n              }\n            })\n        }\n        axios.post(`comments/${commentID}/like/`)\n          .then((response) => {\n            switch (response.status) {\n              case 201:\n                this.getTopicPosts(this.currentPage);\n                break;\n              case 220:\n                break;  // already liked this post by current user\n              case 400:\n                break  // errors during serializing\n            }\n          })\n      },\n      likeOrUnlikeTopicClick() {\n        if (this.topic.isLiked) {\n          axios.post(`topics/${this.topicID}/unlike/`).then((response) => {\n            switch (response.status) {\n              case 200:\n                this.getTopicData();\n                break;\n              case 400:\n                break  // errors during serializing\n            }\n          })\n        } else {\n          axios.post(`topics/${this.topicID}/like/`).then((response) => {\n            switch (response.status) {\n              case 201:\n                this.getTopicData();\n                break;\n              case 220:\n                break;  // already liked this post by current user\n              case 400:\n                break  // errors during serializing\n            }\n          })\n        }\n      }\n    },\n    computed: {\n      ...mapGetters([\n        'isMainUser',\n        'getUserData'\n      ]),\n      getCommentsButtonText() {\n        return buttonID => {\n          console.log('getCommentsButtonText');\n          let isOpen = this.buttonsEngine[buttonID].isOpen;\n          return isOpen ? 'Collapse' : 'Expand'\n\n        }\n      },\n    }\n  }\n</script>\n\n<style scoped>\n  .message-range {\n    margin: 10px 15%;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/pages/Topic.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.topic.title))]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('h5',[_vm._v(_vm._s(_vm.topic.description))]),_vm._v(\" \"),_c('div',[_c('b-card',{staticClass:\"overflow-hidden\",attrs:{\"no-body\":\"\"}},[_c('b-row',{attrs:{\"no-gutters\":\"\"}},[_c('b-col',{attrs:{\"md\":\"2\"}},[_c('b-card-img',{staticClass:\"rounded-1\",attrs:{\"src\":_vm.author.avatar}}),_vm._v(\" \"),_c('h5',[_vm._v(_vm._s(_vm.author.username))]),_vm._v(\" \"),_c('h5',[_vm._v(_vm._s(_vm.author.gameNickName))])],1),_vm._v(\" \"),_c('b-col',{attrs:{\"md\":\"10\"}},[_c('b-card-body',[_c('b-card-text',[_vm._v(\"\\n              \"+_vm._s(_vm.topic.body)+\"\\n            \")])],1)],1)],1),_vm._v(\"\\n      Likes: \"+_vm._s(_vm.topic.totalLikes)+\"\\n      \"),_c('b-button',{attrs:{\"variant\":\"primary\",\"pressed\":_vm.topic.isLiked,\"id\":'like-topic-button-' + _vm.topicID},on:{\"click\":function($event){return _vm.likeOrUnlikeTopicClick()}}},[_vm._v(\"\\n        Like\\n      \")])],1),_vm._v(\" \"),(_vm.isMainUser(_vm.author.pk))?_c('div',{staticClass:\"button-control\"},[_c('b-button',{on:{\"click\":_vm.editTopic}},[_vm._v(\"Edit\")])],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.posts),function(post){return _c('div',{key:post.id},[_c('hr'),_vm._v(\" \"),_c('b-card',{staticClass:\"overflow-hidden\",attrs:{\"no-body\":\"\"}},[_c('b-row',{attrs:{\"no-gutters\":\"\"}},[_c('b-col',{attrs:{\"md\":\"2\"}},[_c('b-card-img',{staticClass:\"rounded-1\",attrs:{\"src\":post.author.avatar}})],1),_vm._v(\" \"),_c('b-col',{attrs:{\"md\":\"10\"}},[_c('b-card-body',{attrs:{\"title\":post.author.username}},[_c('b-card-text',[_vm._v(\"\\n                \"+_vm._s(post.body)+\"\\n              \")])],1)],1),_vm._v(\"\\n          Likes: \"+_vm._s(post.total_likes)+\"\\n        \")],1),_vm._v(\" \"),_c('div',{staticClass:\"button-control\"},[_c('b-button',{attrs:{\"variant\":\"primary\",\"pressed\":post.is_liked,\"id\":'like-post-button-' + post.id},on:{\"click\":function($event){return _vm.likeOrUnlikePostClick(post.id, post.is_liked)}}},[_vm._v(\"\\n            Like\\n          \")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"button-control\"},[_c('b-button',{attrs:{\"variant\":\"primary\",\"id\":'button-' + post.id},on:{\"click\":function($event){_vm.buttonsEngine['button-'+post.id].isOpen = !_vm.buttonsEngine['button-'+post.id].isOpen}}},[_vm._v(\"\\n          \"+_vm._s(_vm.getCommentsButtonText('button-' + post.id))+\"\\n        \")])],1),_vm._v(\" \"),(_vm.buttonsEngine['button-'+post.id].isOpen)?_c('div',[_vm._l((post.comments),function(comment){return _c('div',{staticClass:\"message-range\"},[_c('b-card',{staticClass:\"overflow-hidden\",attrs:{\"no-body\":\"\"}},[_c('b-row',{attrs:{\"no-gutters\":\"\"}},[_c('b-col',{attrs:{\"md\":\"2\"}},[_c('b-card-img',{staticClass:\"rounded-1\",attrs:{\"src\":comment.author.avatar}})],1),_vm._v(\" \"),_c('b-col',{attrs:{\"md\":\"10\"}},[_c('b-card-body',{attrs:{\"title\":comment.author.username}},[_c('b-card-text',[_vm._v(\"\\n                    \"+_vm._s(comment.body)+\"\\n                  \")])],1)],1)],1),_vm._v(\"\\n            Likes: \"+_vm._s(comment.total_likes)+\"\\n            \"),_c('div',{staticClass:\"button-control\"},[_c('b-button',{attrs:{\"pressed\":comment.is_liked,\"variant\":\"primary\",\"id\":'like-comment-button-' + comment.id},on:{\"click\":function($event){return _vm.likeOrUnlikeCommentClick(comment.id, comment.is_liked)}}},[_vm._v(\"\\n                Like\\n              \")])],1)],1)],1)}),_vm._v(\" \"),_c('div',{staticClass:\"message-range\"},[_c('b-form-textarea',{attrs:{\"id\":\"textarea\",\"placeholder\":\"Enter comment...\",\"rows\":\"3\",\"max-rows\":\"6\"},model:{value:(_vm.commentText),callback:function ($$v) {_vm.commentText=$$v},expression:\"commentText\"}}),_vm._v(\" \"),_c('b-button',{attrs:{\"variant\":\"primary\",\"id\":'button-comment' + post.id},on:{\"click\":function($event){return _vm.saveComment(post.id)}}},[_vm._v(\"\\n            Post\\n          \")])],1)],2):_vm._e()],1)}),_vm._v(\" \"),_c('div',{staticClass:\"message-range\"},[_c('b-form-textarea',{attrs:{\"id\":\"textarea\",\"placeholder\":\"Enter post...\",\"rows\":\"3\",\"max-rows\":\"6\"},model:{value:(_vm.postText),callback:function ($$v) {_vm.postText=$$v},expression:\"postText\"}}),_vm._v(\" \"),_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.savePost}},[_vm._v(\"\\n        Post\\n      \")])],1)],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fa8b22ac\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/Topic.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fa8b22ac\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Topic.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Topic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Topic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fa8b22ac\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Topic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fa8b22ac\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/Topic.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}