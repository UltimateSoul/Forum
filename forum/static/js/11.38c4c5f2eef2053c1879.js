webpackJsonp([11],{DlhO:function(t,e){},vDDD:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),i=a.n(n),r=a("fZjL"),s=a.n(r),o=a("4vvG"),l=a.n(o),m=a("+cKO"),u=a("mtWM"),c=a.n(u),d=a("NYxO"),f={name:"CreateTeam",data:function(){return{name:"",description:"",file:null,baseInfo:"",editor:l.a,editorConfig:{}}},created:function(){this.$store.dispatch("fetchUser"),this.isHasTeam&&this.$router.push({name:"home"})},validations:{name:{required:m.required,unique:function(t){return""===t||c.a.get("teams/?name="+t).then(function(t){return console.log("Unique: ",0===s()(t.data.results).length),0===s()(t.data.results).length})}}},methods:{validateState:function(t){var e=this.$v[t],a=e.$dirty,n=e.$error;return a?!n:null},createTeam:function(){var t=this,e=new FormData;this.file&&e.append("avatar",this.file),e.append("name",this.name),e.append("description",this.description),e.append("base_info",this.baseInfo),c.a.post("teams/",e).then(function(e){switch(e.status){case 201:var a=t;t.$store.dispatch("fetchUser").then(function(){a.$router.push({name:"team",params:{teamID:e.data.id}})})}})}},computed:i()({},Object(d.b)(["getUserData","isHasTeam"]),{teamTitleSmallText:function(){return this.name?this.$v.name.unique?"This team title is unique":"Your team title is not unique, please enter unique one":"Title of your team."}})},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Team Creation")]),t._v(" "),a("div",{staticClass:"form-container"},[a("b-form",[a("b-form-group",{attrs:{label:"Team Title","label-for":"teamTitleInput"}},[a("b-form-input",{staticClass:"form-control text-center",attrs:{type:"text",id:"teamTitleInput",maxlength:255,"aria-describedby":"teamTitleHelp",state:t.validateState("name"),placeholder:"My Awesome Team"},on:{blur:function(e){return t.$v.name.$touch()}},model:{value:t.$v.name.$model,callback:function(e){t.$set(t.$v.name,"$model",e)},expression:"$v.name.$model"}}),t._v(" "),a("small",{staticClass:"form-text text-muted",class:{"danger-team-name-text":!t.$v.name.unique},attrs:{id:"teamTitleHelp"}},[t._v("\n          "+t._s(t.teamTitleSmallText)+"\n        ")])],1),t._v(" "),a("hr"),t._v(" "),a("b-form-group",{attrs:{label:"Quick description of your team","label-for":"teamDescriptionInput"}},[a("b-form-input",{attrs:{id:"teamDescriptionInput",placeholder:"Enter something...",maxlength:255},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"teamDescriptionHelp"}},[t._v("\n          Here you can write something to introduce your team to other users.\n        ")])],1),t._v(" "),a("hr"),t._v(" "),a("b-form-group",{attrs:{label:"Base information about your team","label-for":"teamBaseInfo"}},[a("ckeditor",{staticClass:"ck-content",attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.baseInfo,callback:function(e){t.baseInfo=e},expression:"baseInfo"}}),t._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"teamBaseInfoHelp"}},[t._v("\n          Here you can write team rules, awards etc.\n        ")])],1),t._v(" "),a("hr"),t._v(" "),a("b-form-group",{attrs:{label:"Team Image","label-for":"teamAvatarInput"}},[a("b-form-file",{attrs:{id:"teamAvatarInput",state:Boolean(t.file),placeholder:"Choose an image file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),t._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"teamAvatarHelp"}},[t._v("\n          Add image that associates with your team.\n        ")])],1),t._v(" "),a("div",{staticClass:"button-control"},[t.$v.$invalid?a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button",disabled:""}},[t._v("Submit\n        ")]):a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button"},on:{click:t.createTeam}},[t._v("Submit\n        ")])])],1)],1)])},staticRenderFns:[]};var v=a("VU/8")(f,p,!1,function(t){a("DlhO")},"data-v-2eaa0fdf",null);e.default=v.exports}});
//# sourceMappingURL=11.38c4c5f2eef2053c1879.js.map