webpackJsonp([4],{"cU/W":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),r=a.n(n),s=a("mtWM"),i=a.n(s),o=a("NYxO"),c={name:"Teams",data:function(){return{hasTeam:!1,myTeamID:null,fields:["avatar","name","owner","total_members","created_at"],teams:[]}},created:function(){var t=this;this.$store.dispatch("fetchUser").then(function(){t.getTeamForUser()}),this.getData()},methods:{getData:function(){var t=this;return i.a.get("teams/").then(function(e){switch(e.status){case 200:t.teams=e.data.results}}).catch(function(t){})},getTeamForUser:function(){var t=this;return i.a.get("teams/get_team_for_user/").then(function(e){switch(e.status){case 200:t.hasTeam=Boolean(e.data.team_id),t.hasTeam&&(t.myTeamID=e.data.team_id);break;case 404:t.hasTeam=!1}}).catch(function(t){console.log(t)})},goToMyTeam:function(){this.$router.push({name:"team",params:{teamID:this.myTeamID}})},goToCreateTeam:function(){this.$router.push({name:"create-team"})},clickTeam:function(t){this.$router.push({name:"team",params:{teamID:t.id}})}},computed:r()({},Object(o.b)(["isMainUser","getUserData"])),filters:{getDateFormat:function(t){return new Date(t).toLocaleDateString()}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("div",{staticClass:"button-control"},[t.hasTeam?a("b-button",{attrs:{variant:"outline-primary"},on:{click:t.goToMyTeam}},[t._v("Visit my team")]):a("b-button",{attrs:{variant:"outline-primary"},on:{click:t.goToCreateTeam}},[t._v("Create Team")])],1),t._v(" "),a("b-table",{attrs:{striped:"",hover:"",items:t.teams,fields:t.fields},on:{"row-clicked":t.clickTeam},scopedSlots:t._u([{key:"cell(avatar)",fn:function(t){return[a("img",{attrs:{src:t.item.avatar,height:"100",width:"100"}})]}},{key:"cell(owner)",fn:function(e){return[t._v("\n        "+t._s(e.item.owner.username)+"\n      ")]}},{key:"cell(created_at)",fn:function(e){return[t._v("\n        "+t._s(t._f("getDateFormat")(e.item.created_at))+"\n      ")]}}])})],1)])},staticRenderFns:[]};var u=a("VU/8")(c,m,!1,function(t){a("kZ3l")},"data-v-8d6470f6",null);e.default=u.exports},kZ3l:function(t,e){}});
//# sourceMappingURL=4.42de47fdd731bee93761.js.map