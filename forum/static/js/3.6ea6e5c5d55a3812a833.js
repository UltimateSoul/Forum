webpackJsonp([3],{M8W2:function(e,t){},vDDD:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),r=a.n(n),i=a("fZjL"),s=a.n(i),o=a("+cKO"),l=a("mtWM"),m=a.n(l),u=a("NYxO"),c={name:"CreateTeam",data:function(){return{name:"",description:"",file:null,baseInfo:""}},created:function(){this.$store.dispatch("fetchUser"),this.isHasTeam&&this.$router.push({name:"home"})},validations:{name:{required:o.required,unique:function(e){return""===e||m.a.get("teams/?name="+e).then(function(e){return console.log("Unique: ",0===s()(e.data.results).length),0===s()(e.data.results).length})}}},methods:{validateState:function(e){var t=this.$v[e],a=t.$dirty,n=t.$error;return a?!n:null},createTeam:function(){var e=this,t=new FormData;this.file&&t.append("avatar",this.file),t.append("name",this.name),t.append("description",this.description),t.append("base_info",this.baseInfo),m.a.post("teams/",t).then(function(t){switch(t.status){case 201:var a=e;e.$store.dispatch("fetchUser").then(function(){a.$router.push({name:"team",params:{teamID:t.data.id}})})}})}},computed:r()({},Object(u.b)(["getUserData","isHasTeam"]),{teamTitleSmallText:function(){return this.name?this.$v.name.unique?"This team title is unique":"Your team title is not unique, please enter unique one":"Title of your team."}})},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Team Creation")]),e._v(" "),a("div",{staticClass:"form-container"},[a("b-form",[a("b-form-group",{attrs:{label:"Team Title","label-for":"teamTitleInput"}},[a("b-form-input",{staticClass:"form-control text-center",attrs:{type:"text",id:"teamTitleInput",maxlength:255,"aria-describedby":"teamTitleHelp",state:e.validateState("name"),placeholder:"My Awesome Team"},on:{blur:function(t){return e.$v.name.$touch()}},model:{value:e.$v.name.$model,callback:function(t){e.$set(e.$v.name,"$model",t)},expression:"$v.name.$model"}}),e._v(" "),a("small",{staticClass:"form-text text-muted",class:{"danger-team-name-text":!e.$v.name.unique},attrs:{id:"teamTitleHelp"}},[e._v("\n          "+e._s(e.teamTitleSmallText)+"\n        ")])],1),e._v(" "),a("hr"),e._v(" "),a("b-form-group",{attrs:{label:"Quick description of your team","label-for":"teamDescriptionInput"}},[a("b-form-input",{attrs:{id:"teamDescriptionInput",placeholder:"Enter something...",maxlength:255},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),e._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"teamDescriptionHelp"}},[e._v("\n          Here you can write something to introduce your team to other users.\n        ")])],1),e._v(" "),a("hr"),e._v(" "),a("b-form-group",{attrs:{label:"Base information about your team","label-for":"teamBaseInfo"}},[a("b-form-textarea",{attrs:{id:"teamBaseInfo",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:e.baseInfo,callback:function(t){e.baseInfo=t},expression:"baseInfo"}}),e._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"teamBaseInfoHelp"}},[e._v("\n          Here you can write team rules, awards etc.\n        ")])],1),e._v(" "),a("hr"),e._v(" "),a("b-form-group",{attrs:{label:"Team Image","label-for":"teamAvatarInput"}},[a("b-form-file",{attrs:{id:"teamAvatarInput",state:Boolean(e.file),placeholder:"Choose an image file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),e._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"teamAvatarHelp"}},[e._v("\n          Add image that associates with your team.\n        ")])],1),e._v(" "),a("div",{staticClass:"button-control"},[e.$v.$invalid?a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button",disabled:""}},[e._v("Submit\n        ")]):a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button"},on:{click:e.createTeam}},[e._v("Submit\n        ")])])],1)],1)])},staticRenderFns:[]};var f=a("VU/8")(c,d,!1,function(e){a("M8W2")},"data-v-bdc6281e",null);t.default=f.exports}});
//# sourceMappingURL=3.6ea6e5c5d55a3812a833.js.map