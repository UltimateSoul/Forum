webpackJsonp([7],{"+f0u":function(t,e){},SmpO:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("mtWM"),o=i.n(n),a=i("+cKO"),s=i("4vvG"),r=i.n(s),c={name:"TopicCreation",data:function(){return{title:"",description:"",body:"",editor:r.a,editorConfig:{},section:this.$route.params.section,tag:"",tags:[]}},validations:{title:{required:a.required,unique:function(t,e){if(""===t)return!0;var i={searchBy:"title",value:t,section:this.section.toUpperCase()};return o.a.get("topics/search/",{params:i}).then(function(t){return 204===t.status})},minLen:Object(a.minLength)(3)},description:{required:a.required,minLen:Object(a.minLength)(3)}},methods:{addTag:function(){this.tags.push(this.tag)},createTopic:function(){var t=this;this.tags.forEach(function(t){t.name=t.text});var e={title:this.title,description:this.description,body:this.body,section:this.section.toUpperCase(),tags:this.tags};o.a.post("topics/",e).then(function(e){switch(e.status){case 201:t.moveToCreatedTopic(e.data.topic_id)}})},moveToCreatedTopic:function(t){this.$router.push({name:"topic",params:{section:this.section,topicID:t}})},validateState:function(t){var e=this.$v[t],i=e.$dirty,n=e.$error;return i?!n:null}},computed:{titleSmallText:function(){return this.title?this.$v.title.unique?this.$v.title.minLen?"Your title is unique":"Your title is too short":"Your title is not unique, please enter unique one":"Your topic title."}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-12"},[i("div",{staticClass:"topic-creation-container"},[i("h1",[t._v("\n          Topic Creation\n        ")]),t._v(" "),i("div",{staticClass:"form-container"},[i("b-form",[i("label",{attrs:{for:"input-topic-title"}},[t._v("Topic Title:")]),t._v(" "),i("b-form-input",{attrs:{id:"input-topic-title",state:t.validateState("title"),"aria-describedby":"input-live-help input-live-feedback",placeholder:"Enter title of the topic",trim:""},on:{blur:function(e){return t.$v.title.$touch()}},model:{value:t.$v.title.$model,callback:function(e){t.$set(t.$v.title,"$model",e)},expression:"$v.title.$model"}}),t._v(" "),i("small",{staticClass:"form-text text-muted",attrs:{id:"usernameHelp"}},[t._v(t._s(t.titleSmallText))]),t._v(" "),i("label",{attrs:{for:"input-topic-description"}},[t._v("Topic Description:")]),t._v(" "),i("b-form-input",{attrs:{id:"input-topic-description",state:t.validateState("description"),"aria-describedby":"input-live-help input-live-feedback",placeholder:"Enter title of the topic",trim:""},on:{blur:function(e){return t.$v.description.$touch()}},model:{value:t.$v.description.$model,callback:function(e){t.$set(t.$v.description,"$model",e)},expression:"$v.description.$model"}}),t._v(" "),i("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[t._v("\n              Enter at least 3 letters\n            ")]),t._v(" "),i("label",{attrs:{for:"topic-body"}},[t._v("Topic Body:")]),t._v(" "),i("ckeditor",{staticClass:"ck-content",attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}})],1),t._v(" "),i("div",{staticClass:"button-control"},[i("vue-tags-input",{attrs:{tags:t.tags},on:{"tags-changed":function(e){return t.tags=e}},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}})],1),t._v(" "),i("div",{staticClass:"button-control"},[t.$v.$invalid?i("b-button",{attrs:{disabled:""}},[t._v("\n              Submit\n            ")]):i("b-button",{attrs:{variant:"success"},on:{click:t.createTopic}},[t._v("\n              Submit\n            ")])],1)],1)])])])])},staticRenderFns:[]};var u=i("VU/8")(c,l,!1,function(t){i("+f0u")},"data-v-61c18a72",null);e.default=u.exports}});
//# sourceMappingURL=7.0070a975df3ff18805c3.js.map