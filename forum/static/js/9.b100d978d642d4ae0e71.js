webpackJsonp([9],{"0yh2":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e("Dd8w"),a=e.n(o),n=e("+cKO"),r=e("NYxO"),s=e("mtWM"),c=e.n(s),d={name:"TopicEditing",data:function(){return{description:"",body:"",section:this.$route.params.section,topicID:this.$route.params.topicID,author:{avatar:"",gameNickName:"",username:"",pk:0}}},created:function(){var t=this;this.getData().then(function(){t.isMainUser(t.author.pk)||t.$router.push({name:"topic",params:{section:t.section,topicID:t.topicID}})})},validations:{description:{required:n.required,minLen:Object(n.minLength)(3)},body:{required:n.required,minLen:Object(n.minLength)(10)}},methods:{getData:function(){var t=this;return c.a.get("topics/"+this.topicID+"/").then(function(i){t.description=i.data.description,t.body=i.data.body,t.author.avatar=i.data.author.avatar,t.author.gameNickName=i.data.author.game_nickname,t.author.username=i.data.author.username,t.author.pk=i.data.author.pk,t.title=i.data.title})},editTopic:function(){var t=this,i={description:this.description,body:this.body,section:this.section.toUpperCase()};c.a.patch("topics/"+this.$route.params.topicID+"/",i).then(function(i){switch(i.status){case 200:t.moveToEditedTopic(i.data.topic_id)}})},moveToEditedTopic:function(t){this.$router.push({name:"topic",params:{section:this.section,topicID:t}})},validateState:function(t){var i=this.$v[t],e=i.$dirty,o=i.$error;return e?!o:null}},computed:a()({titleSmallText:function(){return this.title?this.$v.title.unique?this.$v.title.minLen?"Your title is unique":"Your title is too short":"Your title is not unique, please enter unique one":"Your topic title."}},Object(r.b)(["isMainUser"]))},u={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"topic-creation-container"},[e("h1",[t._v("\n          Topic Editing\n        ")]),t._v(" "),e("div",{staticClass:"form-container"},[e("b-form",[e("label",{attrs:{for:"input-topic-description"}},[t._v("Topic Description:")]),t._v(" "),e("b-form-input",{attrs:{id:"input-topic-description",state:t.validateState("description"),"aria-describedby":"input-live-help input-live-feedback",placeholder:"Enter description of the topic",trim:""},on:{blur:function(i){return t.$v.description.$touch()}},model:{value:t.$v.description.$model,callback:function(i){t.$set(t.$v.description,"$model",i)},expression:"$v.description.$model"}}),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[t._v("\n              Enter at least 3 letters\n            ")]),t._v(" "),e("label",{attrs:{for:"topic-body"}},[t._v("Topic Body:")]),t._v(" "),e("b-form-textarea",{attrs:{id:"topic-body",state:t.validateState("body"),placeholder:"Enter something...",rows:"3","max-rows":"6"},on:{blur:function(i){return t.$v.body.$touch()}},model:{value:t.$v.body.$model,callback:function(i){t.$set(t.$v.body,"$model",i)},expression:"$v.body.$model"}}),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[t._v("\n              Enter at least 10 letters\n            ")])],1),t._v(" "),e("div",{staticClass:"button-control"},[t.$v.$invalid?e("b-button",{attrs:{disabled:""}},[t._v("\n              Save\n            ")]):e("b-button",{attrs:{variant:"success"},on:{click:t.editTopic}},[t._v("\n              Save\n            ")])],1)],1)])])])])},staticRenderFns:[]};var p=e("VU/8")(d,u,!1,function(t){e("93/7")},"data-v-284fa78d",null);i.default=p.exports},"93/7":function(t,i){}});
//# sourceMappingURL=9.b100d978d642d4ae0e71.js.map