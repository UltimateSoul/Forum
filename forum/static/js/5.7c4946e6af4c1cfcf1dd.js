webpackJsonp([5],{"cU/W":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),i=a.n(s),n=a("mtWM"),o=a.n(n),r=a("NYxO"),c={name:"Teams",data:function(){return{notifications:[],fields:["avatar","name","owner","total_members","created_at"],teams:[]}},created:function(){var t=this;this.$store.dispatch("fetchUser").then(function(){t.getData()})},methods:{getData:function(){var t=this;return o.a.get("teams/").then(function(e){switch(e.status){case 200:t.teams=e.data.results;break;case 204:({message:e.data,type:"error",status:e.status}),t.showNotificationsEmail()}}).catch(function(e){var a={};switch(e.response.status){case 400:case 403:case 500:a={message:e.response.data.detail,type:"error",status:e.response.status},t.showNotificationsEmail()}t.notifications.push(a)})},goToMyTeam:function(){this.$router.push({name:"team",params:{teamID:this.getTeamID}})},showNotificationsEmail:function(){this.$modal.show("notifications-modal")},hideNotificationsEmail:function(){this.$modal.hide("notifications-modal"),this.$router.push({name:"home"})},goToCreateTeam:function(){this.$router.push({name:"create-team"})},clickTeam:function(t){this.$router.push({name:"team",params:{teamID:t.id}})}},computed:i()({},Object(r.b)(["isMainUser","getUserData","hasTeam","isTeamOwner","getTeam","getTeamID"])),filters:{getDateFormat:function(t){return new Date(t).toLocaleDateString()}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("modal",{attrs:{name:"notifications-modal",clickToClose:!1}},[a("div",{staticClass:"m-5 text-center"},[t._l(t.notifications,function(e){return a("div",[a("h1",[t._v(t._s(e.type)+" "+t._s(e.status))]),t._v(" "),a("h5",[t._v(t._s(e.message))])])}),t._v(" "),a("b-button",{attrs:{variant:"success"},on:{click:t.hideNotificationsEmail}},[t._v("Ok")])],2)]),t._v(" "),a("div",{staticClass:"button-control"},[t.hasTeam?a("b-button",{attrs:{variant:"outline-primary"},on:{click:t.goToMyTeam}},[t._v("Visit my team")]):a("b-button",{attrs:{variant:"outline-primary"},on:{click:t.goToCreateTeam}},[t._v("Create Team")])],1),t._v(" "),a("b-table",{attrs:{striped:"",hover:"",items:t.teams,fields:t.fields},on:{"row-clicked":t.clickTeam},scopedSlots:t._u([{key:"cell(avatar)",fn:function(t){return[a("img",{attrs:{src:t.item.avatar,height:"100",width:"100"}})]}},{key:"cell(owner)",fn:function(e){return[t._v("\n        "+t._s(e.item.owner.username)+"\n      ")]}},{key:"cell(created_at)",fn:function(e){return[t._v("\n        "+t._s(t._f("getDateFormat")(e.item.created_at))+"\n      ")]}}])})],1)])},staticRenderFns:[]};var u=a("VU/8")(c,m,!1,function(t){a("e6uH")},"data-v-6b0b0a93",null);e.default=u.exports},e6uH:function(t,e){}});
//# sourceMappingURL=5.7c4946e6af4c1cfcf1dd.js.map